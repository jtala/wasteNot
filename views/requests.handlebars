<style>
    /*All CSS is temporary for now, just wanted to throw ideas in.*/
    #cms{
        text-align:  center;
    }
    .form-control{
        text-align: center;
    }

    #logs{
        text-align: center;
    }

    #loading {
        width: 100%;
    }
</style>
<button onclick="window.location.href = '/';">Home</button>
<br>
<br>
<div class="welcome">
{{!--     Username here when ready --}}    
    <h2>Recycling Service in the next 10 minutes.</h2>
    <div id="instructions">
    <h3> Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias illum nesciunt eos quas deserunt aliquid, officia doloremque corporis esse neque. Nesciunt sequi ipsam ratione possimus temporibus minus officia dolorem nobis.</h3>
     <br><br>
    </div>
</div>

<form id="cms">
    <div class="form-group">
        <br />
        <label for="item_name">Item Name</label>
        <input placeholder="Recyclables" type="text" class="form-control" id="item_name">
        <br />
        <label for="estimated_weight">Estimated Weight (lbs): </label>
        <input placeholder="15 lbs" type="text" class="form-control" id="estimated_weight">
        <br />
        <label for="item_location">Item Location: </label>
        <input placeholder="Los Angeles" type="text" class="form-control" id="item_location">

        <br/>
        <button type="submit" class="btn btn-success submit">Submit</button>
    </div>
</form>

<br><br>

<div id="currentRequests">
    <h2>Current Requests</h2>
</div>

<br><br>

<table>
  <tr>
    <th>Your Drivers' Name</th>
    <th>Items</th>
    <th>Location</th>
    <th>Weight</th>
    <th>Status</th>
  </tr>
{{!-- Run Handlebars for loop here once driver side is done --}}
  <tr>
    <td>Alfreds Futterkiste</td>
    <td>Alfreds Futterkiste</td>
    <td>Maria Anders</td>
    <td>Germany</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
  <tr>
    <td>Centro comercial Moctezuma</td>
    <td>Francisco Chang</td>
    <td>Francisco Chang</td>
    <td>Mexico</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
  <tr>
    <td>Ernst Handel</td>
    <td>Roland Mendel</td>
    <td>Roland Mendel</td>
    <td>Austria</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
  <tr>
    <td>Island Trading</td>
    <td>Helen Bennett</td>
    <td>Helen Bennett</td>
    <td>UK</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
  <tr>
    <td>Laughing Bacchus Winecellars</td>
    <td>Yoshi Tannamuri</td>
    <td>Yoshi Tannamuri</td>
    <td>Canada</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
  <tr>
    <td>Magazzini Alimentari Riuniti</td>
    <td>Giovanni Rovelli</td>
    <td>Giovanni Rovelli</td>
    <td>Italy</td>
    <td>
    <button type="cancel" value="cancel">cancel</button>
    </td>
  </tr>
</table>

<br><br>

<div id="logs">
<button type="submit" class="btn btn-success submit">See logs</button>
</div>

<br><br>

<img id="loading" src ="https://cdn-images-1.medium.com/max/1600/0*d94Rn5bObhShU7YV.gif">


<script>
 $(document).ready(function() {

 
var cItemName = $("#item_name");
var cEstWeight = $("#estimated_weight");
var cItemLocation = $("#item_location");
var cmsForm = $("#cms");


// On click listener for when customer submits form.
$(cmsForm).on("submit", handleFormSubmit);

// Function prevents empty slots, creates an object with customer's data & posts it to the backend. Can be seen in the requests db.
function handleFormSubmit(event) {
    event.preventDefault();
    // Will not submit unless every field has data.
    if (!cItemName.val().trim() || !cEstWeight.val() || !cItemLocation.val() ) {
      return;
    }
    // Take data from form & make a new object for database to read.
    var newCustomer = {
      item: cItemName.val().trim(),
      weight: cEstWeight.val().trim(),
      location: cItemLocation.val().trim()
    };

    console.log(newCustomer);

    // Sending to the backend.
    submitCustomer(newCustomer);
  }

function submitCustomer (post){
    $.post("/api/requests", post, function() {
    console.log("New request data has been posted!");
});
}
});
</script>